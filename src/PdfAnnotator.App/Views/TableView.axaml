<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:data="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls.DataGrid"
             xmlns:viewmodels="using:PdfAnnotator.App.ViewModels"
             x:Class="PdfAnnotator.App.Views.TableView"
             x:DataType="viewmodels:TableViewModel">
    <DockPanel Margin="12">
        <StackPanel DockPanel.Dock="Top" Spacing="6">
            <TextBlock Text="CSV файл" FontWeight="SemiBold"/>
            <StackPanel Orientation="Horizontal" Spacing="8">
                <TextBox Width="320"
                         Watermark="tables/latest.csv"
                         Text="{Binding CsvPath, UpdateSourceTrigger=PropertyChanged}"/>
                <Button Content="Сохранить CSV" Click="OnSaveCsvClick"/>
                <Button Content="Загрузить CSV" Click="OnLoadCsvClick"/>
            </StackPanel>
            <TextBlock Text="{Binding StatusMessage}" Foreground="#777"/>
        </StackPanel>
        <data:DataGrid ItemsSource="{Binding Rows}"
                       AutoGenerateColumns="False"
                       GridLinesVisibility="All">
            <data:DataGrid.Columns>
                <data:DataGridTextColumn Header="Page" Binding="{Binding Page}" IsReadOnly="True"/>
                <data:DataGridTextColumn Header="ExtractedText" Binding="{Binding FieldText}" IsReadOnly="True" Width="2*"/>
                <data:DataGridTextColumn Header="Code" Binding="{Binding Code, Mode=TwoWay}" Width="*" />
            </data:DataGrid.Columns>
        </data:DataGrid>
    </DockPanel>
</UserControl>
